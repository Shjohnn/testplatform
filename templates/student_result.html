{% extends 'base.html' %}

{% block title %}Test natijasi{% endblock %}

{% block content %}
<div class="container" style="max-width: 700px; margin-top: 80px;">
    <div class="card" style="text-align: center;">
        <div style="font-size: 64px; margin-bottom: 20px;">
            {% if result.percentage >= 70 %}
            ğŸ‰
            {% elif result.percentage >= 50 %}
            ğŸ‘
            {% else %}
            ğŸ“š
            {% endif %}
        </div>

        <h2 class="card-header">Test yakunlandi!</h2>
        <p style="color: var(--text-secondary); font-size: 18px; margin: 20px 0;">
            {{ result.student_name }}, siz <strong>{{ result.test.name }}</strong> testini muvaffaqiyatli yakunladingiz.
        </p>

        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 40px 0;">
            <div style="background: rgba(99, 102, 241, 0.1); padding: 24px; border-radius: 12px;">
                <div style="font-size: 48px; font-weight: 700; color: var(--primary-light);">{{ result.total_questions}}</div>
                <div style="color: var(--text-secondary); margin-top: 8px;">Jami</div>
            </div>

            <div style="background: rgba(16, 185, 129, 0.1); padding: 24px; border-radius: 12px;">
                <div style="font-size: 48px; font-weight: 700; color: var(--success-color);">{{ result.correct_answers}}</div>
                <div style="color: var(--text-secondary); margin-top: 8px;">To'g'ri</div>
            </div>

            <div style="background: rgba(239, 68, 68, 0.1); padding: 24px; border-radius: 12px;">
                <div style="font-size: 48px; font-weight: 700; color: var(--danger-color);">{{ result.wrong_answers }}
                </div>
                <div style="color: var(--text-secondary); margin-top: 8px;">Xato</div>
            </div>
        </div>

        <div style="background: var(--gradient-1); padding: 40px; border-radius: 16px; margin: 30px 0;">
            <div style="font-size: 72px; font-weight: 800; color: white;">{{ result.percentage|floatformat:1 }}%</div>
            <div style="color: white; font-size: 20px; margin-top: 8px;">Umumiy natija</div>
        </div>

        {% if result.percentage >= 70 %}
        <p style="color: var(--success-color); font-size: 20px; font-weight: 600;">
            Ajoyib! Siz a'lo natija ko'rsatdingiz! ğŸŒŸ
        </p>
        {% elif result.percentage >= 50 %}
        <p style="color: var(--warning-color); font-size: 20px; font-weight: 600;">
            Yaxshi! Biroz ko'proq harakat qiling! ğŸ’ª
        </p>
        {% else %}
        <p style="color: var(--danger-color); font-size: 20px; font-weight: 600;">
            Ko'proq mashq qiling va qayta urinib ko'ring! ğŸ“–
        </p>
        {% endif %}

        <div style="margin-top: 40px;">
            <a href="{% url 'main:home' %}" class="btn btn-primary" style="font-size: 18px; padding: 16px 48px;">
                Bosh sahifaga qaytish
            </a>
        </div>
    </div>
</div>
{% endblock %}